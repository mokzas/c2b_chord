# Chord Select

## Chord list

- 설정한 필터 조건에 만족하는 코드를 보여줌.
- 설정한 필터가 없다면 모든 코드를 보여줌.
- 선택 상태를 checkbox 방식으로 나타냄

## Select

- 연습에 포함시키기 원하는 코드를 다중선택 가능.
- Chord list에 보여지는 모든 코드를 한번에 선택/해제 가능

## Selected list

선택된 코드를 별도의 리스트로 보여줌

- 현재 선택된 코드의 개수 표시
- 리스트의 각 코드를 선택 해제할 수 있음
- 모든 코드를 한번에 선택 해제할 수 있음

# Preset

특정 코드 모음을 프리셋으로 만들어 프리셋에 포함된 코드들을 한번에 선택하는 기능

- Breadcrumb:
    - 프리셋 탐색기의 현재 경로를 표시
    - 경로를 클릭하면 해당 폴더로 가기
- 프리셋 폴더
    - 종류
        - User - 유저가 생성한 프리셋이 저장되는 위치
        - Major Diatonic
        - minor Diatonic
- 프리셋 생성/적용/삭제 가능 (다중 선택)
    - 생성: 팝업 띄워 이름 입력 → Save → Selected에 있는 코드들을 프리셋으로 저장
    - 적용: 선택된 프리셋 바로 적용
        - 프리셋에 포함된 chord에 해당하는 chordlistitem들을 모두 선택상태로 변경
    - 삭제: 프리셋 아이템을 왼쪽으로 스와이프 → 삭제

# Play

선택된 코드 중에서 랜덤으로 코드를 뽑아 화면에 띄움. 랜덤으로 생성된 코드 진행을 메트로놈을 따라 연습

## Play Settings

버튼, 슬라이더, 팝업 등을 사용하여 연습 설정 변경.

play 상태에서는 설정 변경 불가

- 볼륨: 메트로놈 소리 크기 설정
- Beat: 코드 하나당 메트로놈 박 수 [2, 8]
- BPM: 메트로놈 속도 [40, 600]
- Chords: 화면에 보여질 코드 개수: 1, 2, 8
- 구간반복: 현재 화면에 띄워진 코드를 반복함: ON, OFF
- 구성음 표시: 코드 아래에 코드의 구성음을 표시 ON/OFF
- 구성음 퀴즈 모드: 구성음 퀴즈 모드 피아노 UI ON/OFF

## Play control

### play

- 시작 버튼을 누르면 설정된 beat수만큼 카운트 후 연습 시작, 메트로놈 재생 시작
- 메트로놈 박이 각 코드에서 Beat수만큼 울리고 나면 다음 코드로 진행
- 연습이 시작되면 연습시작 버튼은 Pause 버튼으로 바뀜
- pause 상태에서 다시 play하는 경우 멈췄던 마디에서부터 시작

### pause

- 진행중이던 마디(코드)에서 연습 잠시 멈춤. 현재 마디(코드)에서 진행중이던 beat수는 reset.
- pause 버튼은 연습중에만 나타남. 멈춤시 pause 버튼은 다시 시작버튼으로 바뀜.

### stop

- 연습 중단
- 진행중이던 마디, beat 모두 reset. 처음으로 돌아감

## Play status

- 현재 진행중인 metronome beat가 해당 코드당 전체 beat(2~8 사이 값) 중 몇번째인지 표시

## 코드 악보

- 설정된 ‘chords’값 만큼의 코드를 선택된 코드들 중 랜덤으로 뽑아 화면에 띄움
- 현재 연습(진행)중인 코드는 다른 색으로 하이라이트

### if(구간반복==ON)

- 화면에 보여지는 코드는 변하지 않음
- 화면에 보여지는 마지막 코드가 끝나면 다시 화면상 첫번째 코드로 돌아감

### if(구간반복==OFF)

악보의 절반이 지나가면 (화면에 보여지는 코드 수 8개인 경우를 예시로)

1. 화면에 보여지는 코드 수의 반(4개)만큼의 새로운 랜덤 코드 생성
2. 진행한 코드들의 자리(화면에서 앞쪽 4개 코드)를 아직 진행하지 않은 코드들(4개)로 교체하고, 남은 반은 새로 생성한 랜덤 코드(4개)로 채움
3. ‘현재 진행중인 코드 하이라이트’ 표시는 화면의 첫번째 코드로 옮겨감.

> 화면 표시 chord 개수가 8개인 경우, 아래줄을 흐리게 표시
> 

## Shuffle

- 화면에 보여지는 코드 개수(’chords’ 값)만큼의 랜덤 코드를 새로 생성하여 화면에 표시

## 구성음 퀴즈 모드

현재 코드의 구성음을 맞추는 퀴즈

- 퀴즈 모드 ON 시 화면에 가상 건반을 표시
- 건반을 누를 때마다 건반 색상이 토글
- 현재 코드의 구성음과 사용자가 건반에서 누른 음의 집합이 일치하면 표시되는 구성음의 색상을 primary 컬러로 표시
- Clear 버튼: 현재 선택된 건반을 모두 selected==false로 만듬
- Next 버튼: 강제로 다음 코드로 넘김. isPlaying==false & quiz mode ON 일 때만 나타남.